swagger: '2.0'

info:
  version: "1.0.0"
  title: Balcao Virtual
  description: Micro-serviço para interligar com sistemas processuais e seu repositório de dados

basePath: /balcaovirtual/api/v1
schemes: [http,https]
consumes: [application/json]
produces: [application/json]

tags:
  - name: mesa
    description: Mesa Virtual
  - name: consulta
    description: Consulta Processual
  - name: peticionamento
    description: Peticionamento Inicial e Intercorrente
  - name: aviso
    description: Intimações/Citações
  - name: marca
    description: Marcadores Processuais
  - name: nota
    description: Anotações Processuais
  - name: sinal
    description: Sinalizações Processuais
  - name: config
    description: Configurações
  - name: utils
    description: Utilitários


################################################################################
#                                   Parameters                                 #
################################################################################
parameters:
  nome:
    name: nome
    in: formData
    description: Nome do usuário
    type: string
    required: false
  email:
    name: email
    in: formData
    description: Email do usuário
    type: string
    required: false
  mensagem:
    name: mensagem
    in: formData
    description: Sugestão
    type: string
    required: true
  username:
    name: username
    in: formData
    description: Identificador do usuário
    type: string
    required: true
  password:
    name: password
    in: formData
    description: Senha do usuário
    type: string
    required: true
  sistema:
    name: sistema
    in: formData
    description: Órgão do processo
    required: true
    type: string
  numero:
    name: numero
    in: path
    description: Número do processo só algarismos
    required: true
    type: string
  tipopeticao:
    name: tipopeticao
    in: formData
    description: Código do tipo da petição
    type: string
    required: true
  nivelsigilo:
    name: nivelsigilo
    in: formData
    description: Código do nivel de sigilo
    type: string
    required: true
  encerraprazos:
    name: encerraprazos
    in: formData
    description: Informa se a petição intercorrente deve encerrar prazos abertos para a parte em questão
    type: string
    required: true
  tutelaantecipada:
    name: tutelaantecipada
    in: formData
    description: Tutela ou liminar antecipada
    type: boolean
    required: true
  justicagratuita:
    name: justicagratuita
    in: formData
    description: Justiça gratuíta
    type: boolean
    required: true
  prioridadeidoso:
    name: prioridadeidoso
    in: formData
    description: Tutela ou liminar antecipada
    type: boolean
    required: true
  texto:
    name: texto
    in: formData
    description: Texto
    type: string
    required: true
  pdfs:
    name: pdfs
    in: formData
    description: Referência para os PDFs que foram enviados previamente para o servidor, separadas por vírgula
    type: string
    required: true
  classificacoes:
    name: classificacoes
    in: formData
    description: Classificações dos PDFs que foram enviados previamente para o servidor, separadas por vírgula
    type: string
    required: true
  nomepoloativo:
    name: nomepoloativo
    in: formData
    description: Nome do Polo Ativo
    type: string
    required: false
  nomepolopassivo:
    name: nomepolopassivo
    in: formData
    description: Nome do Polo Passivo
    type: string
    required: false
  pdf:
    name: pdf
    in: path
    description: Referência para o PDF que foi enviado previamente para o servidor
    type: string
    required: true
  cpf:
    name: cpf
    in: path
    description: CPF da pessoa
    required: true
    type: string
  cnpj:
    name: cnpj
    in: path
    description: CNPJ da pessoa
    required: true
    type: string
  oab:
    name: oab
    in: path
    description: OAB do advogado
    required: true
    type: string
  data:
    name: data
    in: query
    description: Data a ser consultada
    required: true
    type: string
  datainicial:
    name: datainicial
    in: query
    description: Data a ser consultada
    required: true
    type: string
  datafinal:
    name: datafinal
    in: query
    description: Data a ser consultada
    required: true
    type: string
  confirmacao:
    name: confirmacao
    in: query
    description: Incluir avisos confirmados por confirmação explícita
    required: true
    type: boolean
  omissao:
    name: omissao
    in: query
    description: Incluir avisos confirmados por omissão
    required: true
    type: boolean
  grupo:
    name: grupo
    in: query
    description: Incluir avisos confirmados por outros usuários do mesmo grupo
    required: true
    type: boolean
  id:
    name: id
    in: path
    description: Número da id só algarismos
    required: true
    type: string
  id2:
    name: id2
    in: path
    description: Número da id só algarismos
    required: true
    type: string
  id3:
    name: id3
    in: path
    description: Número da id só algarismos
    required: true
    type: string
  jwt:
    name: jwt
    in: path
    description: JWT que referencia um artefato a ser baixado
    required: true
    type: string
  filename:
    name: filename
    in: path
    description: Nome do arquivo de um artefato a ser baixado
    required: true
    type: string
  disposition:
    name: disposition
    in: query
    description: Informar attachment se desejar receber como um download
    required: false
    type: string
  sistemaquery:
    name: sistema
    in: query
    description: Órgao
    required: true
    type: string
  idclasse:
    name: idclasse
    in: formData
    description: Id da classe no CNJ
    type: string
    required: true
  idmarca:
    name: idmarca
    in: formData
    description: Id da marca
    type: string
    required: false
  idestilo:
    name: idestilo
    in: formData
    description: Estilo da marca
    type: string
    required: true
  paginicial:
    name: paginicial
    in: formData
    description: Página inicial da marca
    type: string
    required: false
  pagfinal:
    name: pagfinal
    in: formData
    description: Página final da marca
    type: string
    required: false
  pessoal:
    name: pessoal
    in: formData
    description: Nota é pessoal
    type: boolean
    required: true
  localidade:
    name: localidade
    in: formData
    description: Localidade
    type: string
    required: true
  especialidade:
    name: especialidade
    in: formData
    description: Especialidade
    type: string
    required: true
  classe:
    name: classe
    in: formData
    description: Classe do CNJ
    type: string
    required: true
  assunto:
    name: assunto
    in: formData
    description: Assunto do CNJ
    type: string
    required: true
  valorcausa:
    name: valorcausa
    in: formData
    description: Valor da Causa
    type: string
    required: true
  cdas:
    name: cdas
    in: formData
    description: CDA(s)
    type: string
    required: false
  pas:
    name: pas
    in: formData
    description: PA(s)
    type: string
    required: false
  partes:
    name: partes
    in: formData
    description: Partes codificadas em JSON
    type: string
    required: true
  recente:
    name: recente
    in: formData
    description: Processo visualizado recentemente pelo usuário
    type: boolean
    required: false
  favorito:
    name: favorito
    in: formData
    description: Processo favorito do usuário
    type: boolean
    required: false
  dataalteracao:
    name: dataalteracao
    in: formData
    description: Data da última alteração do registro para evitar sobreescrever alterações alheias
    type: string
    format: date-time
  cargo:
    name: cargo
    in: formData
    description: Cargo para ser impresso na cota
    type: string
    required: true
  empresa:
    name: empresa
    in: formData
    description: Empresa para ser impresso na cota
    type: string
    required: true
  unidade:
    name: unidade
    in: formData
    description: Unidade para ser impresso na cota
    type: string
    required: true
  tokenquery:
    name: token
    in: query
    description: token de autorização
    required: false
    type: string
  captchaquery:
    name: captcha
    in: query
    description: senha do reCaptcha
    required: false
    type: string


################################################################################
#                                           Paths                              #
################################################################################
paths:
  /sugestao:
    post:
      consumes: ["application/x-www-form-urlencoded"]
      tags: [utils]
      parameters:
        - $ref: "#/parameters/nome"
        - $ref: "#/parameters/email"
        - $ref: "#/parameters/mensagem"
      description: Enviar sugestões
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              status:
                type: string
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"
  /sessions/create:
    post:
      consumes: ["application/x-www-form-urlencoded"]
      tags: [utils]
      parameters:
        - $ref: "#/parameters/username"
        - $ref: "#/parameters/password"
      description: Autenticar usuário
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              id_token:
                type: string
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"
  /config/entidades:
    get:
      description: Diversos parâmetros para petição inicial
      tags: [config]
      parameters: []
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/Entidade"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"
  /config/sistemas:
    get:
      description: Diversos parâmetros para petição inicial
      tags: [config]
      parameters: []
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/SistemaInfo"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"
  /config/tipos-documento-peticao-inicial:
    get:
      description: Tipos de documento para petição inicial
      tags: [config]
      parameters:
        - $ref: "#/parameters/sistemaquery"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/TipoDocumentoPeticaoInicial"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"
  /config/localidades:
    get:
      description: Diversos parâmetros para petição inicial
      tags: [config]
      parameters:
        - $ref: "#/parameters/sistemaquery"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/Localidade"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"
  /config/localidade/{id}/especialidades:
    get:
      description: Diversos parâmetros para petição inicial
      tags: [config]
      parameters:
        - $ref: "#/parameters/id"
        - $ref: "#/parameters/sistemaquery"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/Especialidade"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"
  /config/localidade/{id}/especialidade/{id2}/classes:
    get:
      description: Classes de determinada localidade
      tags: [config]
      parameters:
        - $ref: "#/parameters/id"
        - $ref: "#/parameters/id2"
        - $ref: "#/parameters/sistemaquery"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/Classe"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /config/localidade/{id}/especialidade/{id2}/classe/{id3}/assuntos:
    get:
      description: Assuntos de determinada localidade/especie/classe
      tags: [config]
      parameters:
        - $ref: "#/parameters/id"
        - $ref: "#/parameters/id2"
        - $ref: "#/parameters/id3"
        - $ref: "#/parameters/sistemaquery"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/Assunto"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /config/pessoa-fisica/{cpf}:
    get:
      description: Pessoa Física
      tags: [config]
      parameters:
        - $ref: "#/parameters/cpf"
        - $ref: "#/parameters/sistemaquery"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              sistema:
                $ref: "#/definitions/Sistema"
              id:
                $ref: "#/definitions/Id"
              nome:
                $ref: "#/definitions/Nome"
              documento:
                $ref: "#/definitions/NumeroDoDocumento"
              tipodedocumento:
                $ref: "#/definitions/TipoDeDocumento"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /config/pessoa-juridica/{cnpj}:
    get:
      description: Pessoa Jurídica
      tags: [config]
      parameters:
        - $ref: "#/parameters/cnpj"
        - $ref: "#/parameters/sistemaquery"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              sistema:
                $ref: "#/definitions/Sistema"
              id:
                $ref: "#/definitions/Id"
              nome:
                $ref: "#/definitions/Nome"
              documento:
                $ref: "#/definitions/NumeroDoDocumento"
              tipodedocumento:
                $ref: "#/definitions/TipoDeDocumento"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /config/advogado/{oab}:
    get:
      description: Advogado
      tags: [config]
      parameters:
        - $ref: "#/parameters/oab"
        - $ref: "#/parameters/sistemaquery"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              sistema:
                $ref: "#/definitions/Sistema"
              id:
                $ref: "#/definitions/Id"
              nome:
                $ref: "#/definitions/Nome"
              oab:
                $ref: "#/definitions/Oab"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /processo/{numero}/validar:
    get:
      description: Validar o número do processo
      tags: [consulta]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/captchaquery"
        - $ref: "#/parameters/tokenquery"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              numero:
                $ref: "#/definitions/Numero"
              sistema:
                $ref: "#/definitions/Sistema"
              orgao:
                $ref: "#/definitions/Orgao"
              unidade:
                $ref: "#/definitions/Unidade"
              localnaunidade:
                $ref: "#/definitions/LocalNaUnidade"
              segredodejustica:
                $ref: "#/definitions/SegredoDeJustica"
              segredodejusticadesistema:
                $ref: "#/definitions/SegredoDeJusticaDeSistema"
              segredodejusticaabsoluto:
                $ref: "#/definitions/SegredoDeJusticaAbsoluto"
              usuarioautorizado:
                $ref: "#/definitions/UsuarioAutorizado"
              digital:
                $ref: "#/definitions/Digital"
              sentenciado:
                $ref: "#/definitions/Sentenciado"
              baixado:
                $ref: "#/definitions/Baixado"
              cdas:
                $ref: "#/definitions/CDAs"
              dataultimomovimento:
                $ref: "#/definitions/DataUltimoMovimento"
              token:
                $ref: "#/definitions/Token"
                
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"
            
  /processo/{numero}/consultar:
    get:
      description: Enviar petições para um processo
      tags: [consulta]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/sistemaquery"
        - $ref: "#/parameters/tokenquery"
      responses:
        200:
          description: Successful response
          schema:
            type: file
          headers:
            Content-Type:
              type: string
              description: application/pdf
            Content-Disposition:
              type: string
              description: attachment
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /processo/{numero}/peca/{id}/pdf:
    get:
      description: Obter o PDF de uma peça processual para visualização
      tags: [consulta]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/id"
        - $ref: "#/parameters/sistemaquery"
        - $ref: "#/parameters/tokenquery"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              jwt:
                type: string
                description: JWT com as informações para download do PDF
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /processo/{numero}/pdf:
    get:
      description: Obter o PDF completo de um processo para visualização
      tags: [consulta]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/sistemaquery"
        - $ref: "#/parameters/tokenquery"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              jwt:
                type: string
                description: JWT com as informações para download do PDF
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /peticao-inicial/protocolar:
    post:
      description: Protocolar petição inicial
      tags: [peticionamento]
      consumes: ["application/x-www-form-urlencoded"]
      parameters:
        - $ref: "#/parameters/sistema"
        - $ref: "#/parameters/localidade"
        - $ref: "#/parameters/especialidade"
        - $ref: "#/parameters/classe"
        - $ref: "#/parameters/assunto"
        - $ref: "#/parameters/valorcausa"
        - $ref: "#/parameters/cdas"
        - $ref: "#/parameters/pas"
        - $ref: "#/parameters/nivelsigilo"
        - $ref: "#/parameters/justicagratuita"
        - $ref: "#/parameters/tutelaantecipada"
        - $ref: "#/parameters/prioridadeidoso"
        - $ref: "#/parameters/partes"
        - $ref: "#/parameters/pdfs"
        - $ref: "#/parameters/classificacoes"
        - $ref: "#/parameters/nomepoloativo"
        - $ref: "#/parameters/nomepolopassivo"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              status:
                type: string
              protocolo:
                type: string
              data:
                type: string
                format: date-time
              numero:
                type: string
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"
  /processo/{numero}/peticao-intercorrente/validar:
    get:
      description: Tipos de petição intercorrente
      tags: [config]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/sistema"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              identencerraprazos:
                type: string
              sigilo:
                type: number
              parte:
                type: boolean
              tipos:
                type: array
                items:
                  $ref: "#/definitions/ConfigTipoPeticaoIntercorrente"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"
  /processo/{numero}/peticionar:
    post:
      description: Enviar petições para um processo
      tags: [peticionamento]
      consumes: ["application/x-www-form-urlencoded"]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/sistema"
        - $ref: "#/parameters/tipopeticao"
        - $ref: "#/parameters/nivelsigilo"
        - $ref: "#/parameters/encerraprazos"
        - $ref: "#/parameters/pdfs"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              status:
                type: string
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /processo/{numero}/cota/previsao-pdf:
    post:
      description: Enviar cota para um processo
      tags: [peticionamento]
      consumes: ["application/x-www-form-urlencoded"]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/sistema"
        - $ref: "#/parameters/nivelsigilo"
        - $ref: "#/parameters/texto"
        - $ref: "#/parameters/cargo"
        - $ref: "#/parameters/empresa"
        - $ref: "#/parameters/unidade"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              jwt:
                type: string
                description: JWT com as informações para download do PDF
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /processo/{numero}/cota/enviar:
    post:
      description: Enviar cota para um processo
      tags: [peticionamento]
      consumes: ["application/x-www-form-urlencoded"]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/sistema"
        - $ref: "#/parameters/nivelsigilo"
        - $ref: "#/parameters/texto"
        - $ref: "#/parameters/cargo"
        - $ref: "#/parameters/empresa"
        - $ref: "#/parameters/unidade"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              status:
                type: string
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /processo/{numero}/aviso/{id}/receber:
    post:
      description: Confirmar o recebimento de um aviso e obter o teor da comunicação
      tags: [aviso]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/id"
        - $ref: "#/parameters/sistemaquery"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              idaviso:
                type: string
              dataaviso:
                type: string
              tipo:
                type: string
              processo:
                type: string
              sistema:
                type: string
              teor:
                type: string
              datarecebimento:
                type: string
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /classe/{id}/marcadores:
    get:
      description: Obter lista de marcadores de uma classe processual
      tags: [marca]
      parameters:
        - $ref: "#/parameters/id"
      responses:
        200:
          description: Successful response
          schema:
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/Marcador"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /marca/{id}:
    delete:
      description: Remover marca
      tags: [marca]
      parameters:
        - $ref: "#/parameters/id"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              status:
                type: string
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /processo/{numero}/marcas:
    get:
      description: Obter marcas de um processo
      tags: [marca]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/sistemaquery"
      responses:
        200:
          description: Successful response
          schema:
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/Marca"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /processo/{numero}/peca/{id}/marca:
    post:
      description: Acrescentar uma marca
      tags: [marca]
      consumes: ["application/x-www-form-urlencoded"]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/id"
        - $ref: "#/parameters/idclasse"
        - $ref: "#/parameters/sistemaquery"
        - $ref: "#/parameters/idmarca"
        - $ref: "#/parameters/texto"
        - $ref: "#/parameters/idestilo"
        - $ref: "#/parameters/paginicial"
        - $ref: "#/parameters/pagfinal"
      responses:
        200:
          description: Successful response
          schema:
            properties:
              marca:
                $ref: "#/definitions/Marca"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /processo/{numero}/nota:
    get:
      description: Obter notas de um processo
      tags: [nota]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/sistemaquery"
      responses:
        200:
          description: Successful response
          schema:
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/Nota"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"
    post:
      description: Acrescentar ou alterar uma nota
      tags: [nota]
      consumes: ["application/x-www-form-urlencoded"]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/sistemaquery"
        - $ref: "#/parameters/texto"
        - $ref: "#/parameters/pessoal"
      responses:
        200:
          description: Successful response
          schema:
            properties:
              nota:
                $ref: "#/definitions/Nota"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /processo/{numero}/nota/{id}:
    put:
      description: Alterar uma nota
      tags: [nota]
      consumes: ["application/x-www-form-urlencoded"]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/id"
        - $ref: "#/parameters/sistemaquery"
        - $ref: "#/parameters/texto"
        - $ref: "#/parameters/dataalteracao"
      responses:
        200:
          description: Successful response
          schema:
            properties:
              nota:
                $ref: "#/definitions/Nota"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"
    delete:
      description: Remover marca
      tags: [nota]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/sistemaquery"
        - $ref: "#/parameters/id"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              status:
                type: string
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /processo/{numero}/sinalizar:
    post:
      description: Acrescentar uma marca
      tags: [sinal]
      consumes: ["application/x-www-form-urlencoded"]
      parameters:
        - $ref: "#/parameters/numero"
        - $ref: "#/parameters/recente"
        - $ref: "#/parameters/favorito"
      responses:
        200:
          description: Successful response
          schema:
            properties:
              processo:
                $ref: "#/definitions/Processo"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /processo/{numero}/sinais:
    get:
      description: Acrescentar uma marca
      tags: [sinal]
      parameters:
        - $ref: "#/parameters/numero"
      responses:
        200:
          description: Successful response
          schema:
            properties:
              processo:
                $ref: "#/definitions/Processo"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /processo/listar-sinais:
    get:
      description: Listar os processos favoritos ou recentes do usuário logado
      tags: [sinal]
      parameters: []
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/Processo"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /download/{jwt}/{filename}:
    get:
      description: Faz o download de um artefato qualquer
      tags: [consulta]
      parameters:
        - $ref: "#/parameters/jwt"
        - $ref: "#/parameters/filename"
        - $ref: "#/parameters/disposition"
      responses:
        200:
          description: Successful response
          schema:
            type: file
          headers:
            Content-Type:
              type: string
              description: application/pdf
            Content-Disposition:
              type: string
              description: attachment
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"
            
            
  /arquivo-temporario/{pdf}:
    get:
      description: Obter o PDF de um documento para visualização
      tags: [peticionamento]
      parameters:
        - $ref: "#/parameters/pdf"
      responses:
        200:
          description: Successful response
          schema:
            type: file
          headers: 
            Content-Type:
              type: string
              description: application/pdf
            Content-Disposition:
              type: string
              description: attachment
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /peticao-intercorrente/contar:
    get:
      description: Validar o número do processo
      tags: [peticionamento]
      parameters: []
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/QuantidadePorData"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /peticao-intercorrente/listar:
    get:
      description: Validar o número do processo
      tags: [peticionamento]
      parameters: 
        - $ref: "#/parameters/data"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/PeticaoIntercorrenteResumo"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /aviso/listar:
    get:
      description: Listar as intimações para o usuário logado
      tags: [aviso]
      parameters: []
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/Aviso"
              status:
                type: array
                items:
                  $ref: "#/definitions/ListStatus"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /aviso-pendente/xml:
    get:
      description: Exportar XML de intimações para o usuário logado
      tags: [aviso]
      parameters: []
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              jwt:
                type: string
                description: JWT com as informações para download do PDF
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /aviso-confirmado/contar:
    get:
      description: Listar a quantidade de avisos confirmados nos últimos dias
      tags: [aviso]
      parameters: []
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/QuantidadeConfirmadaPorData"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /aviso-confirmado/listar:
    get:
      description: Listar as intimações confirmadas para o usuário logado
      tags: [aviso]
      parameters:
        - $ref: "#/parameters/datainicial"
        - $ref: "#/parameters/datafinal"
        - $ref: "#/parameters/confirmacao"
        - $ref: "#/parameters/omissao"
        - $ref: "#/parameters/grupo"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/Aviso"
              status:
                type: array
                items:
                  $ref: "#/definitions/ListStatus"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"
            
  /aviso-confirmado/xml:
    get:
      description: Exportar XML de intimações confirmadas para o usuário logado
      tags: [aviso]
      parameters: []
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              jwt:
                type: string
                description: JWT com as informações para download do PDF
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /mesa:
    get:
      description: Listar as mesas virtuais disponíveis
      tags: [mesa]
      parameters: []
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/Mesa"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /mesa/{id}:
    get:
      description: Listar os documentos na mesa virtual
      tags: [mesa]
      parameters:
        - $ref: "#/parameters/id"
        - $ref: "#/parameters/sistemaquery"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              list:
                type: array
                items:
                  $ref: "#/definitions/Documento"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /classe/{id}:
    get:
      description: Obter dados de uma classe pela id
      tags: [consulta]
      parameters:
        - $ref: "#/parameters/id"
        - $ref: "#/parameters/sistemaquery"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              codigo:
                $ref: "#/definitions/Codigo"
              descricao:
                $ref: "#/definitions/Descricao"
              descricaocompleta:
                $ref: "#/definitions/DescricaoCompleta"
              ativo:
                $ref: "#/definitions/Ativo"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /assunto/{id}:
    get:
      description: Obter dados de um assunto pela id
      tags: [consulta]
      parameters:
        - $ref: "#/parameters/id"
        - $ref: "#/parameters/sistemaquery"
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              codigo:
                $ref: "#/definitions/Codigo"
              descricao:
                $ref: "#/definitions/Descricao"
              descricaocompleta:
                $ref: "#/definitions/DescricaoCompleta"
              ativo:
                $ref: "#/definitions/Ativo"
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"

  /recurso/{arquivo}:
    get:
      description: Obter arquivo pelo nome
      tags: [recursos]
      parameters:
        - $ref: "#/parameters/arquivo"
      responses:
        200:
          description: Successful response
          schema:
            type: file
          headers:
            Content-Type:
              type: string
              description: text/xml
            Content-Disposition:
              type: string
              description: attachment
        500:
          description: Error ocurred
          schema:
            $ref: "#/definitions/Error"


################################################################################
#                                     Definitions                              #
################################################################################
definitions:
  ConfigTipoPeticaoIntercorrente:
    description: Tipo de petição intercorrente
    type: object
    properties:
      id:
        type: string
      descricao:
        type: string
      sistema:
        type: string

  Entidade:
    description: Entidade
    type: object
    properties:
      sistema:
        type: string
      id:
        type: string
      nome:
        type: string
      documento:
        type: string
      tipodedocumento:
        type: string

  Localidade:
    description: Localidade
    type: object
    properties:
      id:
        type: string
      nome:
        type: string

  Especialidade:
    description: Especialidade
    type: object
    properties:
      id:
        type: string
      nome:
        type: string

  Classe:
    description: Classe
    type: object
    properties:
      id:
        type: string
      nome:
        type: string
      valordacausaobrigatorio:
        type: boolean

  Assunto:
    description: Assunto
    type: object
    properties:
      id:
        type: string
      nome:
        type: string

  SistemaInfo:
    description: Classe
    type: object
    properties:
      id:
        type: string
      nome:
        type: string

  Mesa:
    description: Mesa Virtual
    type: object
    properties:
      id:
        type: string
      nome:
        type: string

  Numero:
    description: Número do processo
    type: string
    example: 00002294020154020000

  Sistema:
    description: Órgão do processo
    type: string
    example: br.jus.jfrj.eproc

  Orgao:
    description: Órgão do processo
    type: string
    example: JFRJ

  Unidade:
    description: Unidade do processo
    type: string
    example: 01JEF

  SegredoDeJustica:
    description: Segredo de Justiça
    type: boolean
    example: false
    
  SegredoDeJusticaDeSistema:
    description: Segredo de Justiça de Sistema
    type: boolean
    example: false
    
  SegredoDeJusticaAbsoluto:
    description: Segredo de Justiça Absoluto
    type: boolean
    example: false
    
  Digital:
    description: Processo Digital
    type: boolean
    example: false
    
  LocalNaUnidade:
    description: Local na Unidade
    type: string
    
  Sentenciado:
    description: Processo já recebeu sentença?
    type: boolean
    
  UsuarioAutorizado:
    description: Usuário tem acesso ao processo ou está restrito por segredo de justiça
    type: boolean
    
  Baixado:
    description: Processo já baixado?
    type: boolean
    
  CDAs:
    description: Número de CDAs separado por vírgula
    type: string
    
  DataUltimoMovimento:
    description: Data do último movimento do processo
    type: string
    format: date-time
    
  Token:
    description: Token para proteger a consulta pública
    type: string
    
  QuantidadePorData:
    description: Data e quantidade de itens
    type: object
    properties:
      data:
        type: string
      quantidade:
        type: string

  QuantidadeConfirmadaPorData:
    description: Data e quantidade de avisos confirmados
    type: object
    properties:
      data:
        type: string
      quantidadedousuarioporconfirmacao:
        type: string
      quantidadedousuarioporomissao:
        type: string
      quantidadedogrupoporconfirmacao:
        type: string
      quantidadedogrupoporomissao:
        type: string

  PeticaoIntercorrenteResumo:
    description: Petição intercorrente
    type: object
    properties:
      processo:
        type: string
      protocolo:
        type: string
      dataprotocolo:
        type: string
      classe:
        type: string
      unidade:
        type: string
      sistema:
        type: string

  Aviso:
    description: Aviso
    type: object
    properties:
      idaviso:
        type: string
      dataaviso:
        type: string
        format: date-time
      tipo:
        type: string
      processo:
        type: string
      unidade:
        type: string
      unidadenome:
        type: string
      unidadetipo:
        type: string
      orgao:
        type: string
      sistema:
        type: string
      localidade:
        type: string
      teor:
        type: string
      eventointimacao:
        type: string
      motivointimacao:
        type: string
      numeroprazo:
        type: string
      tipoprazo:
        type: string
      multiplicadorprazo:
        type: string
      datalimiteintimacaoautomatica:
        type: string
        format: date-time
      assunto:
        type: string
      dataconfirmacao:
        type: string
        format: date-time
      usuarioconfirmacao:
        type: string

  Processo:
    description: Processo
    type: object
    properties:
      numero:
        type: string
      recente:
        type: string
        format: date-time
      favorito:
        type: boolean

  Marca:
    description: Marca
    type: object
    properties:
      idmarca:
        type: string
      idpeca:
        type: string
      texto:
        type: string
      paginicial:
        type: string
      pagfinal:
        type: string
      idestilo:
        type: string
      nomeusuario:
        type: string
      dataalteracao:
        type: string
        format: date-time
        
  Nota:
    description: Nota
    type: object
    properties:
      idnota:
        type: string
      texto:
        type: string
      pessoal:
        type: boolean
      nomeusuario:
        type: string
      dataalteracao:
        type: string
        format: date-time
        
  Documento:
    description: Documento na mesa de trabalho
    type: object
    properties:
      docsystem:
        type: string
      docid:
        type: string
      docsecret:
        type: string
      doccode:
        type: string
      docdescr:
        type: string
      dockind:
        type: string
      docorigin:
        type: string
      documento:
        type: string
      processo:
        type: string
      motivo:
        type: string
      situacao:
        type: string
      responsavel:
        type: string
      dataentrada:
        type: string
        format: date-time
        
  Marcador:
    description: Marcador
    type: object
    properties:
      texto:
        type: string

  ListStatus:
    type: object
    properties:
      system:
        type: string
        description: Identificador do sistema integrado
      errormsg:
        type: string
        description: Mensagem de erro se houver
      stacktrace:
        type: string
        description: Detalhamento do erro

  Codigo:
    type: string
    description: Código
    
  Descricao:
    type: string
    description: Apenas o nível mais específico da descrição
    
  DescricaoCompleta:
    type: string
    description: Descrição incluindo todos os níveis superiores
    
  Ativo:
    type: boolean
    description: Ativo true ou false
    
  Id:
    description: Identificador
    type: string
    example: 123456

  Nome:
    description: Nome
    type: string
    example: Renato Crivano
    
  Oab:
    description: OAB
    type: string
    example: RJ122355
    
  NumeroDoDocumento:
    description: Número de CPF ou CNPJ
    type: string
    example: 11111111111
    
  TipoDeDocumento:
    description: Tipo de documento
    type: string
    example: CPF

  TipoDocumentoPeticaoInicial:
    description: Tipo de documento
    type: object
    properties:
      id:
        type: string
        description: Identificador do tipo de documento
      nome:
        type: string
        description: Nome do tipo de documento

  Error:
    type: object
    properties:
      errormsg:
        type: string